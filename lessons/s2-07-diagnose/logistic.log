--------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/doylewr/practicum/lpo_prac_2016-2017/central/lessons/diagnose/logistic.log
  log type:  text
 opened on:  28 Mar 2017, 13:06:20

. 
. /* PhD Practicum, Spring 2017 */
. /* Regression models for binary data*/
. /* Will Doyle*/
. /* 3/28/17 */
. 
. clear

. 
. set more off

. 
. graph drop _all

. 
. global ddir "../../data/"

. 
. use ${ddir}attend, clear

. 
. describe

Contains data from ../../data/attend.dta
  obs:        16,289                          
 vars:            28                          11 Apr 2013 10:46
 size:       961,051                          
--------------------------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------------
stu_id          long    %12.0f                Student ID
f2evratt        byte    %12.0f     F2EVRATT   Whether has ever attended a postsecondary
                                                institution - composite
sch_id          int     %8.0g                 school id
strat_id        int     %8.0g                 stratum
psu             byte    %8.0g      psu        primary sampling unit
f1sch_id        int     %8.0g                 link to first follow-up school
f1univ1         int     %8.0g      f1univ1    sample member status in by and f1 rounds
f1univ2a        byte    %8.0g      f1univ2a   base year status and how sample member entered f1
                                                sample
f1univ2b        byte    %8.0g      f1univ2b   sample member f1 status
g10cohrt        byte    %8.0g      g10cohrt   sophomore cohort member in 2001-2002 school year
g12cohrt        byte    %8.0g      g12cohrt   f1 senior cohort member
bystuwt         float   %9.0g                 student weight
bysex           byte    %8.0g      bysex      sex-composite
byrace          byte    %8.0g      byrace     student^s race/ethnicity-composite
bydob_p         long    %12.0g                student^s year and month of birth
bypared         byte    %8.0g      bypared    parents^ highest level of education
bymothed        byte    %8.0g      bymothed   mother^s highest level of education-composite
byfathed        byte    %8.0g      byfathed   father^s highest level of education-composite
byincome        byte    %8.0g      byincome   total family income from all sources 2001-composite
byses1          float   %9.0g                 socio-economic status composite, v.1
byses2          float   %9.0g                 socio-economic status composite, v.2
bystexp         byte    %8.0g      bystexp    how far in school student thinks will get-composite
bynels2m        float   %9.0g                 els-nels 1992 scale equated sophomore math score
bynels2r        float   %9.0g                 els-nels 1992 scale equated sophomore reading score
f1qwt           float   %9.0g                 questionnaire weight for f1
f1pnlwt         float   %9.0g                 panel weight, by and f1 (2002 and 2004)
f1psepln        byte    %8.0g      f1psepln   f1 post-secondary plans right after high school
_merge          byte    %23.0g     _merge     
--------------------------------------------------------------------------------------------------
Sorted by:  

. 
. /* Missing data*/
. 
. foreach myvar of varlist stu_id-f1psepln{ /* Start outer loop */
  2.               foreach i of numlist -3 -4 -8 -9 { /* Start inner loop */
  3.                      replace `myvar'=. if `myvar'== `i'
  4.                                             }  /* End inner loop */
  5.                                           } /* End outer loop */
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(108 real changes made, 108 to missing)
(1691 real changes made, 1691 to missing)
(359 real changes made, 359 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(3825 real changes made, 3825 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(651 real changes made, 651 to missing)
(171 real changes made, 171 to missing)
(0 real changes made)
(0 real changes made)
(651 real changes made, 651 to missing)
(276 real changes made, 276 to missing)
(0 real changes made)
(0 real changes made)
(651 real changes made, 651 to missing)
(276 real changes made, 276 to missing)
(53 real changes made, 53 to missing)
(0 real changes made)
(651 real changes made, 651 to missing)
(171 real changes made, 171 to missing)
(37 real changes made, 37 to missing)
(0 real changes made)
(651 real changes made, 651 to missing)
(171 real changes made, 171 to missing)
(40 real changes made, 40 to missing)
(0 real changes made)
(651 real changes made, 651 to missing)
(171 real changes made, 171 to missing)
(57 real changes made, 57 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(651 real changes made, 651 to missing)
(276 real changes made, 276 to missing)
(0 real changes made)
(0 real changes made)
(651 real changes made, 651 to missing)
(276 real changes made, 276 to missing)
(0 real changes made)
(0 real changes made)
(651 real changes made, 651 to missing)
(276 real changes made, 276 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(276 real changes made, 276 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(276 real changes made, 276 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1164 real changes made, 1164 to missing)
(785 real changes made, 785 to missing)
(47 real changes made, 47 to missing)

. 
. 
. /* Recodes */
.   
. local race_names amind asian black hispanic_race hispanic_norace multiracial white

. 
. tab(byrace), gen(race_)

     student^s race/ethnicity-composite |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
amer. indian/alaska native, non-hispani |        131        0.85        0.85
asian, hawaii/pac. islander,non-hispani |      1,465        9.56       10.41
black or african american, non-hispanic |      2,027       13.23       23.64
            hispanic, no race specified |        998        6.51       30.15
               hispanic, race specified |      1,229        8.02       38.17
              multiracial, non-hispanic |        740        4.83       43.00
                    white, non-hispanic |      8,735       57.00      100.00
----------------------------------------+-----------------------------------
                                  Total |     15,325      100.00

. 
. local i=1

. 
. foreach val of local race_names{
  2.   rename race_`i' `val'
  3.   local i=`i'+1
  4. }

. 
. gen hispanic=hispanic_race==1|hispanic_norace==1

. 
. label variable byincome "Income"

. label variable amind "American Indian/AK Native"

. label variable asian "Asian/ PI"

. label variable black "African American"

. label variable hispanic "Hispanic"

. label variable white "White"

. label variable multiracial "Multiracial"

. 
. local race amind asian black hispanic multiracial 

. 
. 
. /* Set locals */
. 
. local y f2evratt

. 
. local ses byses1

. 
. local demog  amind asian black hispanic multiracial bysex

. 
. local tests bynels2m bynels2r

. 
. local gtype pdf

. 
. /* Linear Probability Model */
. 
. reg `y' `ses' `demog' `tests'

      Source |       SS       df       MS              Number of obs =   13284
-------------+------------------------------           F(  9, 13274) =  374.14
       Model |  496.008461     9  55.1120512           Prob > F      =  0.0000
    Residual |  1955.28354 13274  .147301759           R-squared     =  0.2023
-------------+------------------------------           Adj R-squared =  0.2018
       Total |  2451.29201 13283  .184543552           Root MSE      =   .3838

------------------------------------------------------------------------------
    f2evratt |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      byses1 |   .1230284   .0051494    23.89   0.000     .1129347     .133122
       amind |  -.0799666   .0375121    -2.13   0.033    -.1534955   -.0064376
       asian |   .1061966   .0118984     8.93   0.000     .0828741    .1295192
       black |   .0664432   .0107626     6.17   0.000     .0453469    .0875395
    hispanic |   .0224763    .010479     2.14   0.032     .0019359    .0430167
 multiracial |   -.045084   .0158417    -2.85   0.004    -.0761361    -.014032
       bysex |   .0863008   .0067759    12.74   0.000     .0730191    .0995824
    bynels2m |   .0069647   .0003931    17.72   0.000     .0061943    .0077352
    bynels2r |   .0047414   .0005583     8.49   0.000      .003647    .0058357
       _cons |   .1329982   .0183363     7.25   0.000     .0970564      .16894
------------------------------------------------------------------------------

. 
. exit 

end of do-file


. cd "/Users/doylewr/practicum/lpo_prac_2016-2017/central/lessons/binary_dv"
/Users/doylewr/practicum/lpo_prac_2016-2017/central/lessons/binary_dv

. do logisitic.do
file logisitic.do not found
r(601);

. do logistic.do

. capture log close
