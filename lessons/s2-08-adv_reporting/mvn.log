-----------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/doylewr/practicum/lpo_prac_2016-2017/central/lessons/adv_reporting/mvn.log
  log type:  text
 opened on:   8 May 2017, 13:14:29

. 
. /*Techniques for handling missing data */
. /* Will Doyle */
. /* 170508 */
. /* Practicum Folder */
. 
. clear

. 
. clear mata /* Clears any fluff that might be in mata */

. 
. estimates clear /* Clears any estimates hanging around */

. 
. set more off /*Get rid of annoying "more" feature */

. 
.   graph drop _all

. 
. /*Controls*/
. 
. local coding=1

. local imputation=0

. local analysis=0

. 
. /*Locals for analysis*/
. local y fouryr

. 
. local test bynels2m bynels2r

. 
. local race amind asian black hispanic multiracial

. 
. local pared bypared_nohs bypared_2yrnodeg bypared_2yr bypared_some4 bypared_masters bypared_phd 

. 
. local income byincome byses1

. 
. 
. if `coding'==1{
. 
.   use plans, clear
file plans.dta not found
r(601);
. 
. foreach myvar of varlist stu_id-f1psepln{ /* Start outer loop */
  2.               foreach i of numlist -4 -8 -9 { /* Start inner loop */
  3.                      replace `myvar'=. if `myvar'== `i'
  4.                                             }  /* End inner loop */
  5.                                           } /* End outer loop */
. 
. local race_names amind asian black hispanic_no hispanic_race multiracial white
. 
. tab(byrace), gen(race_)
. 
. local i=1
. 
. foreach val of local race_names{
  2.   rename race_`i' `val'
  3.   local i=`i'+1
  4. }
. 
. label variable byincome "Income"
. label variable amind "American Indian/AK Native"
. label variable asian "Asian/ PI"
. label variable black "African American"
. label variable white "White"
. label variable multiracial "Multiracial"
. 
. 
. gen hispanic=0
. replace hispanic=1 if hispanic_no==1|hispanic_race==1
. replace hispanic=. if byrace==.
. 
. label variable hispanic "Hispanic"
. 
. local plan_names noplan dontknow votech cc fouryr earlygrad
. 
. 
. tab(f1psepln), gen(plan_)
. 
. local i=1
. 
. foreach val of local plan_names{
  2.   rename plan_`i' `val'
  3.   local i=`i'+1
  4. }
. 
. 
. label variable noplan "Plans: No plans"
. label variable dontknow "Plans: Don't know"
. label variable votech "Plans: Voc/Tech School"
. label variable cc "Plans: Comm Coll"
. label variable fouryr "Four Year"
. label variable earlygrad "Early Graduation"
. 
. 
. local pareds bymothed byfathed bypared
. 
. local ed_names nohs hs 2yrnodeg 2yr some4  4yrgrad masters phd
. 
. foreach pared of local pareds{
  2. 
. tab(`pared'), gen(`pared'_)
  3. 
. local i=1
  4. 
. 
. foreach val of local ed_names{
  5.   rename `pared'_`i' `pared'_`val'
  6.   local i=`i'+1
  7. }
  8. 
. label variable `pared'_nohs "Less than HS"
  9. label variable `pared'_hs "HS/GED"
 10. label variable `pared'_2yr "CC" 
 11. label variable `pared'_some4 "Four year attend"
 12. label variable `pared'_4yrgrad "Bachelor's"
 13. label variable `pared'_masters "Master's"
 14. label variable `pared'_phd "PhD"
 15. }
. 
. tab bystexp,gen(exp_)
. 
. gen female=bysex==2
. replace female=. if bysex==.
. 
. replace bynels2m=bynels2m/100
. 
. replace bynels2r=bynels2r/100  
.   
. /*Missing on dv? */
. *keep if f1psepln!=.
.   
. save plans2, replace
.   
. }
r(601);

end of do-file

r(601);

. cd ../missing
/Users/doylewr/practicum/lpo_prac_2016-2017/central/lessons/missing

. do "/Users/doylewr/practicum/lpo_prac_2016-2017/central/lessons/missing/missing.do"

. version 13 /* Can set version here, use the most recent as default */

. capture log close /* Closes any logs, should they be open */
